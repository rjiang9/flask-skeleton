{% extends "base.html" %}

{% block content %}

<div django-app="TaskManager" class="task_content categories" >    
    <div class="">
            <div class="content">
                    <div class="welcome">
                        <button id="openbutton" class="openbtn" >&#9776;</button>
                        <span class="welcome-text">Manage Your Spec List</span> 
                    </div>

    <form action="" method="post" novalidate>
        {{ form.hidden_tag() }}
        <div class="inputContainer Task">
            {{ form.title.label }}<br>
            {{ form.title(size=20) }}
            {% for error in form.title.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
        <div class="inputContainer choice ">
            {{ form.category.label}}<br>
            {{ form.category}}
            {% for error in form.category.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
        <div class="inputContainer  date ">
            {{ form.date.label }}<br>
            {{ form.date }}
            {% for error in form.date.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
        <div class="inputContainer  time">
            {{ form.time.label }}<br>
            {{ form.time }}
            {% for error in form.title.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
        <div class="buttons">   
            {{ form.submit(class="taskAdd btn") }}
        </div> 
    </form>
      <!-- Task Delete Error alert -->
      {% if check %}
      <div class="alert alert-warning" role="alert">
          <span class="closebtns" onclick="this.parentElement.style.display='none';">&times;</span>
          {{check}}
      </div>
      {% endif %}
      <!-- End Task Delete error alert -->

      <form action="" method="post">
        {{ form.hidden_tag() }} <!-- csrf token for security -->

        <div class="tabs effect-1">

             <!-- tab-content -->
        <div class="tab-content">
            <section id="tab-item-1">
                <ul class="taskList">        
                    {% for spec in spec %} 
                    <li class="currentTaskItem">
                        <input type="checkbox" class="taskCheckbox" name="checkedbox" id="{{ spec.id }}" value="{{ spec.id }}" >
                        <label for="{{ spec.id }}"><span class="complete-">{{ spec.title }}</span></label>
                        <span class="taskDone" >at</span>
                        <strong class="taskDone"><i class="fa fa-clock-o"></i> {{ spec.time }}</strong>
                        <span class="taskDone" >on</span>
                        <strong class="taskDatee taskDone"><i class="fa fa-calendar"></i> {{ spec.date }}</strong>
                        <span class="categorypage-{{ spec.category }}">{{ spec.category }}</span>
                        <button class="taskDelete " name="taskDelete" formnovalidate="" type="submit" ><i class="fa fa-trash-o icon"></i></button>
                    </li>     
                    {% endfor %}
                </ul> <!--end All-Tasks-List -->
            </section>
          </div><!-- end tab content -->

         </div><!-- end tab effect -->
        </form>
    
        </div><!-- end content -->

    </div><!-- container -->
    <div class="done">
    <a href="{{url_for('home.homepage')}}" class="btn btn-primary mt-3"> <i class="fa fa-home"></i>Back to Home </a>
    </div>
</div>
{% endblock %}
